#!/usr/bin/ruby

require_relative '../lib/pinboard_tools'
require "docopt"
doc = <<DOCOPT
LazyCupid

Usage:
  #{__FILE__} [-t <tag>] [-s] [-v]
  #{__FILE__} config
  #{__FILE__} safari-import



  Options:
  	-h --help     		Show this screen.
  	--version     		Show version.
  	-t=<tag>  				tags to target
		-s 							  import safari reading list
		-v           			Show console output

DOCOPT

begin
  options = Docopt::docopt(doc)
  puts options
  if options["-t"]
    tags = options["<tag>"]


    verbose = options["-v"]

    tagger = PinboardTools::Tagger.new(tag: tags, verbose: verbose)
    tagger.run
  elsif options["-s"]
    import = PinboardTools::SafariReadingListImporter.new
    import.run
  end
rescue Interrupt, SystemExit
  print "\rShutting down..."
end

print "\nGoodbye!"
